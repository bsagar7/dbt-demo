version: 2



models: 
  - name : employee
    description: DBT model for Employee Table
    columns:
      - name: emp_id
        tests:
          - unique
          - not_null
      - name: emp_state
        tests:
          - accepted_values:
              values: ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA","HI", 
                      "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD","MA", "MI", 
                      "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ","NM", "NY", "NC", 
                      "ND", "OH", "OK", "OR", "PA", "RI", "SC","SD", "TN","TX", "UT", 
                      "VT", "VA", "WA", "WV", "WI", "WY"]
              config:
                severity: warn
      - name: salary
        tests: 
          - check_value

  - name: performance
    description: DBT model for Performance Review

  - name: top_performers
    description: DBT model for top performers

  - name: sales
    description: DBT model for sales table

  - name: product
    description: DBT model for product table (delete+insert Operation)
      
  - name: purchase
    description: DBT model for purchase table (Merge Operation)

  - name: clean_orders
    description: DBT model for Cleaning Orders Raw Table (Ephemeral Model)

  - name: patient
    description: DBT model for Patient (Snapshot Demo)
  
  - name: covid
    description: DBT model for Covid stats Country code col addition (DBT Seed) 

  - name: concat_name
    description: DBT model for Concat_name (Macros)


sources:
  - name: employee
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: EMPLOYEE_RAW

  - name: performance
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: PERFORMANCE_REVIEW_SRC

  - name: sales
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: SALES_SRC

  - name: product
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: PRODUCT_SRC

  - name: purchase
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: PURCHASE_SRC

  - name: clean_orders
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: ORDERS_RAW

  - name: patient
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: PATIENT_SRC

  - name: covid
    database: DBT_DB
    schema: PUBLIC
    tables:
      - name: COVID_STATS_SRC